name: djornl_fetch_all
description: Fetch all node and edge data from the djornl subgraph
params:
  type: object
  additionalProperties: false
  properties:
    edge_types:
      $ref: "../../datasets/djornl/edge_types_filter.yaml"
query: |
  LET nodes = (
    FOR v IN djornl_node
      RETURN v
  )
  LET edges = (
    FOR e IN djornl_edge
      FILTER length(@edge_types) > 0 && e.edge_type IN @edge_types || length(@edge_types) == 0
      RETURN e
  )
  RETURN {nodes, edges}
